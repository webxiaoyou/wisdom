<view><view class="popup"><view class="topGoods"><view class="Pic"><image class="goodsImage" mode="aspectFill" src="{{specGoodsData.goodsImg}}"></image></view><view class="goodsInfo"><view class="goodsName moreText">{{specGoodsData.name}}</view><view class="goodsDescription">{{specGoodsData.goodsDescription}}</view><view class="goodsData"><block wx:if="{{selArray||specGoodsData.attr_array&&specGoodsData.attr_array[0]}}"><view class="monthlySales"><text>已选:</text><text class="clickWord">{{selArray||specGoodsData.attr_array[0]}}</text></view></block><block wx:if="{{specGoodsData.totalStockCount>0}}"><view class="totalStockCount"><text>库存:</text><text>{{specGoodsData.totalStockCount}}</text><text>{{specGoodsData.unit}}</text></view></block></view><view class="bottomOperation"><view class="retailPrice"><view class="fuhao">￥</view><view class="Price">{{specGoodsData.price}}</view></view><block wx:if="{{specGoodsData.memberPrice>0}}"><view class="retailPrice"><view class="fuhao">会员价:￥</view><view class="Price">{{specGoodsData.memberPrice}}</view></view></block></view></view></view><view class="popupCenter"><scroll-view style="max-height:520rpx;padding-bottom:24rpx;" scroll-with-animation="true" enable-back-to-top="true" scroll-y="true"><block wx:if="{{$root.g0}}"><view class="goodsSpec"><view class="name">请选择规格</view><view class="specList"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><button class="{{['button',(current==index)?'click':'']}}" style="{{item.s0}}" size="mini" type="default" data-event-opts="{{[['tap',[['onfreeSpecs',['$0',index],[[['specGoodsData.attr_array','',index]]]]]]]}}" bindtap="__e">{{item.$orig}}</button></block></view></view></block><block wx:if="{{isShowNum}}"><view class="u-flex"><view class="u-flex-m" style="font-size:28rpx;">数量</view><view class="numberBox u-flex"><view data-event-opts="{{[['tap',[['minus',['$event']]]]]}}" class="minus u-flex" style="line-height:54rpx;" bindtap="__e">-</view><view class="inputBox u-flex"><input class="u-flex" type="number" data-event-opts="{{[['input',[['__set_model',['','num','$event',[]]],['inputChange',['$event']]]]]}}" value="{{num}}" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['plus',['$event']]]]]}}" class="plus u-flex" style="line-height:54rpx;" bindtap="__e">+</view></view></view></block></scroll-view></view><block wx:if="{{popupType==2}}"><view class="determine"><button class="button" style="{{'background:'+(PrimaryColor)+';'}}" size="default" type="primary" data-event-opts="{{[['tap',[['onPurchase',['$0'],['specGoodsData']]]]]}}" bindtap="__e">{{buyName}}</button></view></block><block wx:else><block wx:if="{{popupType==3}}"><view class="determine u-flex"><button class="button u-flex-m" style="background:#ffa63a;margin:0 10rpx;" size="default" type="primary" data-event-opts="{{[['tap',[['onDetermine',['$0'],['specGoodsData']]]]]}}" bindtap="__e">加入购物车</button><button class="button u-flex-m" style="{{'margin:0 10rpx;'+('background:'+(PrimaryColor)+';')}}" size="default" type="primary" data-event-opts="{{[['tap',[['onPurchase',['$0'],['specGoodsData']]]]]}}" bindtap="__e">{{buyName}}</button></view></block><block wx:else><view class="determine"><button class="button" style="{{'background:'+(PrimaryColor)+';'}}" size="default" type="primary" data-event-opts="{{[['tap',[['onDetermine',['$0'],['specGoodsData']]]]]}}" bindtap="__e">加入购物车</button></view></block></block></view></view>