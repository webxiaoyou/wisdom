{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pages/goods/goods.vue?7f49","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pages/goods/goods.vue?3fc0","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pages/goods/goods.vue?a992","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pages/goods/goods.vue?10f5","uni-app:///pages/goods/goods.vue","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pages/goods/goods.vue?0ecf","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pages/goods/goods.vue?addf"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","goodOne","specsPopup","fTabbar","computed","data","systemInfo","isPopup","categoryBox","current","scrollTop","specGoodsData","oldScrollTop","onLoad","uni","onReady","onShow","num","methods","px2upx","onOpenPopup","onSpecChange","console","getgoodsList","name","cartNumber","id","goods_list","goodsImg","isPromote","totalStockCount","goodsDescription","price","memberPrice","buyGoodsNumber","hasProduct","monthlySales","unit","attr_array","category","setTimeout","swichMenu","index","DSQ","dsq","getElRect","query","size","leftMenuStatus","getMenuItemTop","selectorQuery","rects","resolve","rightScroll"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACkN;AAClN,gBAAgB,qNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAg0B,CAAgB,uzBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC+Dp1B;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAMA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC,4BACA,sCACA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;;MAEA;MACAC;IAAA,kDACA,sDACA,0DACA,kDACA,wDACA,gDACA,2DACA,iDACA,mDACA,qDACA,mDACA;EAEA;EACAC;IACA;IACAC;IACA;IACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IAEAC;IACA;EAEA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACAC;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;UACAC;UACAC;UAAA;UACAC;UACAC;QACA;QACA;UACA;YACAD;YACAF;YAAA;YACAI;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;UACA;;UACAC;QACA;QACA;MACA;MACAjB;MACA;MACA;QACA;UACA;YACA;YACA;YACAkB;cACA;gBACA;cACA;YACA;YACAA;cACA;YACA;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAnB;gBAAA,MAaA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA,MAEAoB;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACAzB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA0B;MAAA;MACA;MACAC;MACAA;QACA3B;QACA;UACA;QACA;QACA;MACA;IACA;IACA;IACA4B;MAAA;MACA;QACA;QACAC;UAAAC;QAAA;UACA;UACA;YACAP;cACA;YACA;YACA;UACA;UACA;QACA;MACA;IACA;IACA;IACA;IACAQ;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA1B;gBAEA;kBACA;kBACA;kBACAA;gBACA;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAEAA;gBACAA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACA2B;MAAA;MAEA;QACA;QACAC;UACA;UACA;YACAV;cACA;YACA;YACA;UACA;UACAW;YACA;YACA;YACAC;UACA;QACA;MACA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MAEA;kBAAA;kBAAA;gBAAA;gBACA/B;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAA,KAEA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAEAkB;kBAAA;kBACA;kBACA;kBACA;kBACA;oBACA;oBACA;oBACA;oBACA;sBACA;sBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA,EACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;AC7TA;AAAA;AAAA;AAAA;AAAujD,CAAgB,89CAAG,EAAC,C;;;;;;;;;;;ACA3kD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/goods/goods.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods/goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=5566b618&scoped=true&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=5566b618&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5566b618\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/goods.vue\"\nexport default component.exports","export * from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=template&id=5566b618&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isPopup = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n        <!-- 公共组件-每个页面必须引入 -->\r\n        <public-module></public-module>\r\n        <view class=\"u-wrap\">\r\n            <view class=\"u-search-box\">\r\n            \t<view class=\"u-search-inner\">\r\n            \t\t<text class=\"u-search-text\">搜索</text>\r\n            \t</view>\r\n            </view>\r\n            <view class=\"u-menu-wrap\">\r\n                <scroll-view scroll-y scroll-with-animation class=\"u-tab-view menu-scroll-view\" :scroll-top=\"scrollTop\">\r\n                    <view v-for=\"(item,index) in categoryBox\" :key=\"index\" class=\"u-tab-item\" :class=\"[current==index ? 'u-tab-item-active' : '']\" @tap.stop=\"swichMenu(index)\">\r\n                        <text class=\"u-line-2\" :style=\"{color:current==index?PrimaryColor:''}\">{{item.name}}</text>\r\n                        <!-- 这里是对应购物车的数量角标 -->\r\n                        <view class=\"cartNumber\" v-if=\"item.cartNumber && item.cartNumber>0\" :style=\"{backgroundColor: PrimaryColor}\">{{item.cartNumber}}</view>\r\n                    </view>\r\n                </scroll-view>\r\n                <!-- #ifdef MP-ALIPAY -->\r\n                <scroll-view scroll-y class=\"right-box u-flex-1\">\r\n                    <view class=\"page-view\">\r\n                        <view class=\"class-item\" style=\"width: 590rpx;\">\r\n                            <view class=\"item-title\">\r\n                                <text>{{categoryBox[current].name}}</text>\r\n                            </view>\r\n                            <good-one :list=\"categoryBox[current].goods_list\" @onOpenPopup=\"onOpenPopup\"></good-one>\r\n                            <view style=\"text-align: center;padding-top: 50rpx;font-size: 24rpx;color: #999;\" v-if=\"categoryBox[current].goods_list.length==0\">\r\n                                此分类暂无商品\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </scroll-view>\r\n                <!-- #endif -->\r\n                <!-- #ifndef MP-ALIPAY -->\r\n                <scroll-view scroll-y scroll-with-animation class=\"right-box u-flex-1\" :scroll-top=\"scrollRightTop\" @scroll=\"rightScroll\">\r\n                    <view class=\"page-view\">\r\n                        <view class=\"class-item\" :id=\"'item' + index\" v-for=\"(item , index) in categoryBox\" :key=\"index\">\r\n                            <view class=\"item-title\">\r\n                                <text>{{item.name}}</text>\r\n                            </view>\r\n                            <good-one :list=\"item.goods_list\" @onOpenPopup=\"onOpenPopup\"></good-one>\r\n                            <view style=\"text-align: center;padding: 20rpx;font-size: 24rpx;color: #999;\" v-if=\"item.goods_list==0\">\r\n                                暂无商品\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </scroll-view>\r\n                <!-- #endif -->\r\n            </view>\r\n            <!-- tabbar占位高度 -->\r\n            <view :style=\"{height: systemInfo.tabbarH+'px'}\"></view>\r\n        </view>\r\n        <!-- 规格弹窗 -->\r\n        <u-popup :show=\"isPopup\" :round=\"10\" mode=\"bottom\" @close=\"isPopup = false\">\r\n            <specs-popup :specGoodsData=\"specGoodsData\" :isPopup=\"isPopup\" popupType=\"1\" @change=\"onSpecChange\"></specs-popup>\r\n        </u-popup>\r\n        <f-tabbar :isFillHeight=\"false\"></f-tabbar>\r\n    </view>\n</template>\n\n<script>\r\nvar num = 0;\r\nvar dsq = null;\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport base from '@/config/baseUrl.js';\r\nimport goodOne from '@/components/module/good';\r\nimport specsPopup from '@/components/module/specs-popup';\r\nimport fTabbar from '@/components/module/f-tabbar/f-tabbar';\r\nexport default {\r\n    components: {\r\n        goodOne,\r\n        specsPopup,\r\n        fTabbar\r\n    },\r\n\tcomputed:{\r\n\t    ...mapState(['PrimaryColor']),\r\n\t},\r\n    data() {\r\n        return {\r\n            systemInfo:base.systemInfo,\r\n            isPopup:false,\r\n            categoryBox:[],//分类商品\r\n            current: 0,\r\n            scrollTop:0,\r\n            specGoodsData:{},//选择的规格数据\r\n            \r\n            // ***滑动联动所需参数***\r\n            oldScrollTop: 0,\r\n            current: 0, // 预设当前项的值\r\n            menuHeight: 0, // 左边菜单的高度\r\n            menuItemHeight: 0, // 左边菜单item的高度\r\n            itemId: '', // 栏目右边scroll-view用于滚动的id\r\n            menuItemPos: [],\r\n            arr: [],\r\n            scrollRightTop: 0, // 右边栏目scroll-view的滚动高度\r\n            timer: null, // 定时器\r\n            flag:false,//禁止current两次赋值\r\n            flag2:true,//是否禁止右侧滑动\r\n            c_id:'',//跳转的参数--定位分类id位置\r\n        }\r\n    },\r\n    onLoad(e) {\r\n        // 隐藏原生的tabbar\r\n        uni.hideTabBar();\r\n        // this.c_id = e.c_id\r\n    \tthis.c_id = 9 //跳转的参数--定位分类id位置\r\n        this.getgoodsList()\r\n    },\r\n    onReady() {\r\n    \tthis.getMenuItemTop()\r\n    },\r\n    onShow(){\r\n    \t// #ifndef MP-ALIPAY\r\n    \tnum = 0;\r\n    \tthis.DSQ()\r\n    \t// #endif\r\n    },\r\n    methods: {\r\n        px2upx(n){\r\n            return n/(uni.upx2px(n)/n);\r\n        },\r\n        onOpenPopup(item){\r\n            this.specGoodsData = item\r\n            this.isPopup = true\r\n        },\r\n        //规格回调\r\n        onSpecChange(e){\r\n            console.log(e)\r\n            if(e.type!=1 && e.type!=4 ){\r\n                this.isPopup = false\r\n            }\r\n        },\r\n        // 请求商品\r\n        getgoodsList() {\r\n            // uni.$u.http.post('您的接口', httpData).then((res) => {\r\n                // 这里模拟加载的数据\r\n                for(var i=0;i<20;i++){\r\n                    var category = {\r\n                        name:'分类名'+(i+1),\r\n                        cartNumber:i+1,//分类已经加入购物车数量\r\n                        id:i+1,\r\n                        goods_list:[],\r\n                    }\r\n                    for(var f=0;f<5;f++){\r\n                        var goods = {\r\n                            id:f+1,\r\n                            name:'商品名称',//商品名称\r\n                            goodsImg:'https://img02.163.gg/img/96/66/75/966675-ieuskndmvo.jpg!YM0000',//商品图片\r\n                            isPromote:1,//是否特价\r\n                            totalStockCount:9999,//库存\r\n                            goodsDescription:'商品描述',//商品描述\r\n                            price:59.99,//商品价\r\n                            memberPrice:35.99,//会员价\r\n                            buyGoodsNumber:f+1,//当前加入购物车的数量\r\n                            hasProduct:1,//是否多规格\r\n                            monthlySales:999,//月售\r\n                            unit:'份',//单位\r\n                            attr_array:['不辣','微辣','特辣'],//规格\r\n                        }\r\n                        category.goods_list.push(goods)\r\n                    }\r\n                    this.categoryBox.push(category)\r\n                }\r\n                console.log(this.categoryBox,'this.categoryBox')\r\n                // 如果有传分类c_id参数-滑动到对应的选项\r\n                if(this.c_id){\r\n                    this.categoryBox.forEach((item,index)=>{\r\n                        if(item.id == this.c_id){\r\n                            let time = 1500 //实际接口这里数字可以调小点\r\n                            // 等待页面渲染完成\r\n                            setTimeout(()=>{\r\n                                if(index>=2){\r\n                                    this.swichMenu(index-1)\r\n                                }\r\n                            },time) \r\n                            setTimeout(()=>{\r\n                                this.swichMenu(index)\r\n                            },time+200)\r\n                        }\r\n                    })\r\n                }\r\n            // })\r\n        },\r\n        // 点击左边的栏目切换\r\n        async swichMenu(index) {\r\n            console.log('swichMenu')\r\n            // #ifdef MP-ALIPAY\r\n            if(index == this.current) return ;\r\n            this.current = index;\r\n            // 如果为0，意味着尚未初始化\r\n            if(this.menuHeight == 0 || this.menuItemHeight == 0) {\r\n                await this.getElRect('menu-scroll-view', 'menuHeight');\r\n                await this.getElRect('u-tab-item', 'menuItemHeight');\r\n            }\r\n            // 将菜单菜单活动item垂直居中\r\n            this.scrollTop = index * this.menuItemHeight + this.menuItemHeight / 2 - this.menuHeight / 2;\r\n            // #endif\r\n            // #ifndef MP-ALIPAY\r\n            if(this.arr.length == 0) {\r\n                await this.getMenuItemTop();\r\n            }\r\n            if (index == this.current) return;\r\n            this.scrollRightTop = this.oldScrollTop;\r\n            this.$nextTick(function(){\r\n                this.scrollRightTop = this.arr[index];\r\n                this.current = index;\r\n                this.flag = true\r\n                this.flag2 = false //禁止右侧滑动\r\n                this.leftMenuStatus(index);\r\n                num = 0\r\n            })\r\n            // #endif\r\n        },\r\n        DSQ(isClear){\r\n            // 解决点击分类，左侧多次滚动\r\n            dsq && clearInterval(dsq)\r\n            dsq = setInterval(()=>{\r\n                num+=100\r\n                if(num>500){\r\n                    this.flag2 = true\r\n                }\r\n                // console.log(num)\r\n            },100)\r\n        },\r\n        // 获取一个目标元素的高度\r\n        getElRect(elClass, dataVal) {\r\n            new Promise((resolve, reject) => {\r\n                const query = uni.createSelectorQuery().in(this);\r\n                query.select('.' + elClass).fields({size: true},res => {\r\n                    // 如果节点尚未生成，res值为null，循环调用执行\r\n                    if(!res) {\r\n                        setTimeout(() => {\r\n                            this.getElRect(elClass);\r\n                        }, 10);\r\n                        return ;\r\n                    }\r\n                    this[dataVal] = res.height;\r\n                }).exec();\r\n            })\r\n        },\r\n        // ***********************************************  微信小程序 S  *****************************************************************\r\n        // 设置左边菜单的滚动状态\r\n        async leftMenuStatus(index) {\r\n            console.log('左侧滚动')\r\n            // #ifndef MP-ALIPAY\r\n            if(this.flag){\r\n                this.current = index;\r\n                this.flag = false\r\n                console.log(index)\r\n            }\r\n            // 如果为0，意味着尚未初始化\r\n            if (this.menuHeight == 0 || this.menuItemHeight == 0) {\r\n                await this.getElRect('menu-scroll-view', 'menuHeight');\r\n                await this.getElRect('u-tab-item', 'menuItemHeight');\r\n            }\r\n            console.log(this.menuHeight,'this.menuHeight')\r\n            console.log(this.menuItemHeight,'this.menuItemHeight')\r\n            // 将菜单活动item垂直居中\r\n            this.scrollTop = index * this.menuItemHeight + this.menuItemHeight / 2 - this.menuHeight / 2;\r\n            // #endif\r\n        },\r\n        // 获取右边菜单每个item到顶部的距离\r\n        getMenuItemTop() {\r\n            // #ifndef MP-ALIPAY\r\n            new Promise(resolve => {\r\n                let selectorQuery = uni.createSelectorQuery();\r\n                selectorQuery.selectAll('.class-item').boundingClientRect((rects) => {\r\n                    // 如果节点尚未生成，rects值为[](因为用selectAll，所以返回的是数组)，循环调用执行\r\n                    if(!rects.length) {\r\n                        setTimeout(() => {\r\n                            this.getMenuItemTop();\r\n                        }, 10);\r\n                        return ;\r\n                    }\r\n                    rects.forEach((rect) => {\r\n                        // 这里减去rects[0].top，是因为第一项顶部可能不是贴到导航栏(比如有个搜索框的情况)\r\n                        this.arr.push(rect.top - rects[0].top);\r\n                        resolve();\r\n                    })\r\n                }).exec()\r\n            })\r\n            // #endif\r\n        },\r\n        // 右边菜单滚动\r\n        async rightScroll(e) {\r\n            // #ifndef MP-ALIPAY\r\n            if(this.flag2 && !this.flag){\r\n                 console.log('右侧滚动')\r\n                this.oldScrollTop = e.detail.scrollTop;\r\n                if(this.arr.length == 0) {\r\n                    await this.getMenuItemTop();\r\n                }\r\n                if(this.timer) return ;\r\n                if(!this.menuHeight) {\r\n                    await this.getElRect('menu-scroll-view', 'menuHeight');\r\n                }\r\n                setTimeout(() => { // 节流\r\n                    this.timer = null;\r\n                    // scrollHeight为右边菜单垂直中点位置\r\n                    let scrollHeight = e.detail.scrollTop + this.menuHeight / 2;\r\n                    for (let i = 0; i < this.arr.length; i++) {\r\n                        let height1 = this.arr[i];\r\n                        let height2 = this.arr[i + 1];\r\n                        // 如果不存在height2，意味着数据循环已经到了最后一个，设置左边菜单为最后一项即可\r\n                        if (!height2 || scrollHeight >= height1 && scrollHeight < height2) {\r\n                            this.flag = true\r\n                            this.leftMenuStatus(i);\r\n                            return ;\r\n                        }\r\n                    }\r\n                }, 10)\r\n            }\r\n            // #endif\r\n        },\r\n        // ***********************************************  微信小程序 E  *****************************************************************\r\n    },\r\n\r\n}\r\n</script>\n\n<style lang=\"scss\" scoped>\r\n.u-wrap {\r\n    height: calc(100vh);\r\n    /* #ifdef H5 */\r\n    height: calc(100vh - var(--window-top));\r\n    /* #endif */\r\n    /* #ifndef APP-NVUE */\r\n    display: flex;\r\n    /* #endif */\r\n    flex-direction: column;\r\n}\r\n.u-search-box {\r\n    background-color: #fff;\r\n    padding: 18rpx 30rpx;\r\n    border-bottom: 2rpx solid #eeeeee;\r\n\twidth: 750rpx;\r\n}\r\n.u-search-inner {\r\n    background-color: #f5f5f5;\r\n    border-radius: 100rpx;\r\n    /* #ifndef APP-NVUE */\r\n    display: flex;\r\n    /* #endif */\r\n    align-items: center;\r\n    padding: 10rpx 16rpx;\r\n}\r\n.u-search-text {\r\n    font-size: 26rpx;\r\n    color: #999;\r\n    margin-left: 10rpx;\r\n}\r\n\r\n.u-menu-wrap {\r\n    flex: 1;\r\n    /* #ifndef APP-NVUE */\r\n    display: flex;\r\n    /* #endif */\r\n    overflow: hidden;\r\n}\r\n.u-tab-view {\r\n    width: 160rpx;\r\n    height: 100%;\r\n    background: #fff;\r\n    border-right: 2rpx solid #eeeeee;\r\n}\r\n.u-tab-item {\r\n    width: 160rpx;\r\n    // height: 110rpx;\r\n    padding: 38rpx 24rpx;\r\n    background: #fff;\r\n    box-sizing: border-box;\r\n    /* #ifndef APP-NVUE */\r\n    display: flex;\r\n    /* #endif */\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 26rpx;\r\n    color: #333;\r\n    font-weight: 400;\r\n    line-height: 1;\r\n    position: relative;\r\n\tz-index: 10;\r\n    .cartNumber{\r\n        position: absolute;\r\n\t\tz-index: 10;\r\n        border-radius: 34rpx;\r\n        top: 8rpx;\r\n        right: 8rpx;\r\n        // width: 34rpx;\r\n        padding: 0 10rpx;\r\n        height: 34rpx;\r\n        text-align: center;\r\n        line-height: 34rpx;\r\n        background: #fe461d;\r\n        color: #fff;\r\n        font-size: 24rpx;\r\n    }\r\n    text{\r\n        line-height: 1.2;\r\n        color: #333;\r\n    }\r\n}\r\n.u-tab-item-active {\r\n    position: relative;\r\n\tz-index: 10;\r\n    color: #fe461d;\r\n    font-weight: 600;\r\n    background: #fff;\r\n    text{\r\n        color: #fe461d\r\n    }\r\n}\r\n.u-tab-item-active::before {\r\n    content: \"\";\r\n    position: absolute;\r\n\tz-index: 10;\r\n    border-left: 4rpx solid #fe461d;\r\n    height: 32rpx;\r\n    left: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n.u-tab-view {\r\n    height: 100%;\r\n}\r\n.right-box {\r\n    /* #ifdef MP-ALIPAY */\r\n    background-color: #fff;\r\n    /* #endif */\r\n    /* #ifndef MP-ALIPAY */\r\n    background-color: #f5f5f5;\r\n    /* #endif */\r\n}\r\n.page-view {\r\n    // padding: 16rpx;\r\n}\r\n.class-item {\r\n    // margin-bottom: 30rpx;\r\n    background-color: #fff;\r\n    padding: 24rpx 24rpx 0;\r\n    border-radius: 8rpx;\r\n    /* #ifndef MP-ALIPAY */\r\n    margin-bottom: 20rpx;\r\n    /* #endif */\r\n}\r\n.item-title {\r\n    font-size: 26rpx;\r\n    color: #333;\r\n    font-weight: bold;\r\n    text{\r\n        color: #999;\r\n        font-size: 24rpx;\r\n    }\r\n}\r\n.item-menu-name {\r\n    font-weight: normal;\r\n    font-size: 24rpx;\r\n    color: #333;\r\n}\r\n.item-container {\r\n    /* #ifndef APP-NVUE */\r\n    display: flex;\r\n    /* #endif */\r\n    flex-wrap: wrap;\r\n}\r\n</style>\n","import mod from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=style&index=0&id=5566b618&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=style&index=0&id=5566b618&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707036429389\n      var cssReload = require(\"E:/Hbuilde-前端代码/HBuilderX.3.1.9.20210413.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}