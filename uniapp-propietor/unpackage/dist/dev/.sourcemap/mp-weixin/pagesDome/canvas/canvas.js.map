{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pagesDome/canvas/canvas.vue?ace8","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pagesDome/canvas/canvas.vue?c0e5","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pagesDome/canvas/canvas.vue?7a14","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pagesDome/canvas/canvas.vue?21aa","uni-app:///pagesDome/canvas/canvas.vue","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pagesDome/canvas/canvas.vue?d511","webpack:///D:/Desktop/项目案例/javaweb项目/wisdom/uniapp-propietor/pagesDome/canvas/canvas.vue?ef30"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","goodsImg","rectangleImg","rectangleBorderImg","circularImg","coverImg","buttonImg","canvasImg","qrcodeImg","content","textImg","content2","textEnImg","onLoad","onReady","methods","createRectangle","uni","title","_canvas","ctx","width","height","canvasId","success","that","createRectangleBorder","grd","createCircular","cvsW","cvsH","logo","icon","createCover","createText","font","word","maxWidth","maxLine","x","y","l_h","createText2","textCenter","createButton","createGoodsPoster","goodsH","logo_w","margin","family","options","onSaveImg","imgUrl","createQrcode","text","size","uqrcode","console"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACkN;AAClN,gBAAgB,qNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi0B,CAAgB,wzBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACgFr1B;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA;AACA;AAAA,eAEA;EACAC;IACA;MAEAC;MACA;;MAKAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;IACA;EACA;EACAC,2BAEA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;QACA;MACA;MACA;MACAC;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACAC;QACAH;UACAI;UACAC;UACAC;UACAC;YACAP;YACAQ;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;MACA;MACAT;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACAC;MACA;MACA;MACAD;MACA;MACA;MACAQ;MACAA;MACAP;MACAA;MACA;MACAA;QACAH;UACAI;UACAC;UACAC;UACAC;YACAP;YACAQ;UACA;QACA;MACA;IACA;IACA;IACAG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAGAH;gBACAR;kBACAC;gBACA;gBACAE;gBACAS;gBACAC,YACA;gBAAA;gBAAA,OACAX;cAAA;gBAAAY;gBACA;kBACA;kBACA;kBACAZ;kBACA;kBACAC;oBACAH;sBACAI;sBACAC;sBACAC;sBACAC;wBACAP;wBACAQ;sBACA;oBACA;kBACA;gBACA;kBACAR;kBACAA;oBACAC;oBACAc;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAGAR;gBACAR;kBACAC;gBACA;gBACAE;gBACAS;gBACAC,YACA;gBAAA;gBAAA,OACAX;cAAA;gBAAAY;gBACA;kBACA;kBACA;kBACAZ;kBACA;kBACAC;oBACAH;sBACAI;sBACAC;sBACAC;sBACAC;wBACAP;wBACAQ;sBACA;oBACA;kBACA;gBACA;kBACAR;kBACAA;oBACAC;oBACAc;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAE;MACA;QACA;MACA;MACA;MACAjB;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;QACAgB;QAAA;QACAf;QACAgB;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;MACA;MACArB;;MAIA;MACAD;MACA;MACAC;QACAH;UACAI;UACAC;UACAC;UACAC;YACAP;YACAQ;UACA;QACA;MACA;IACA;IACA;IACAiB;MACA;QACA;MACA;MACA;MACAzB;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;QACAgB;QAAA;QACAf;QACAgB;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAE;QAAA;QACAd;MACA;MACA;MACAT;;MAIA;MACAD;MACA;MACAC;QACAH;UACAI;UACAC;UACAC;UACAC;YACAP;YACAQ;UACA;QACA;MACA;IACA;IACA;IACAmB;MACA;QACA;MACA;MACA;MACA3B;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACAE;MACA;MACA;MACAD;MACA;MACAC;QACAH;UACAI;UACAC;UACAC;UACAC;YACAP;YACAQ;UACA;QACA;MACA;IACA;IACAoB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAGApB;gBACAR;kBACAC;gBACA;gBACAW;gBACAC;gBACAgB;gBACAC;gBACAC;gBACAC;gBACA7B,8CACA;gBACAD;gBACA;gBAAA;gBAAA,OACAA;cAAA;gBAAAY;gBACA;kBACA;kBACAX;kBACAA;kBACA;kBACAD;kBACAC;;kBAEA;kBACAA;kBACAA;kBACAA;kBACA;kBACAA;kBACAA;;kBAEA;kBACA;kBACAA;kBACAD;kBACA;kBACAC;kBACAA;kBACA8B;oBACAf;oBAAA;oBACAf;oBACAgB;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;oBAAA;oBACAC;kBACA,GACA;;kBACAtB;kBACA;kBACAA;kBACA;kBACAC;kBACAA;kBACAA;kBACA;kBACAA;kBACAA;kBACAA;kBACA;kBACAA;kBACA;kBACAA;oBACAH;sBACAI;sBACAC;sBACAC;sBACAC;wBACAP;wBACAQ;sBACA;oBACA;kBACA;gBACA;kBACAR;kBACAA;oBACAC;oBACAc;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAmB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MACA;MACA;MACA,mCACA;QACAC;QAAA;QACAC;MACA,GACAnC,IACA;MACAoC;MACAA;QACAvC;UACAI;UACAC;UACAC;UACAC;YACA;YACAC;YACAgC;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpfA;AAAA;AAAA;AAAA;AAAwjD,CAAgB,+9CAAG,EAAC,C;;;;;;;;;;;ACA5kD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesDome/canvas/canvas.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesDome/canvas/canvas.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./canvas.vue?vue&type=template&id=87283eee&scoped=true&\"\nvar renderjs\nimport script from \"./canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./canvas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./canvas.vue?vue&type=style&index=0&id=87283eee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87283eee\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesDome/canvas/canvas.vue\"\nexport default component.exports","export * from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./canvas.vue?vue&type=template&id=87283eee&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./canvas.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n        <view class=\"titleBtn\" @click=\"createRectangle\">绘制矩形图fillRoundRect</view>\r\n        <view class=\"canvasBox\" v-if=\"rectangleImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:200rpx;height:100rpx\" :src=\"rectangleImg\"></image>\r\n            </view>\r\n        </view>\r\n        \r\n        <view class=\"titleBtn\" @click=\"createRectangleBorder\">绘制渐变边框矩形图fillRoundRect+roundRectBorder</view>\r\n        <view class=\"canvasBox\" v-if=\"rectangleBorderImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:200rpx;height:100rpx\" :src=\"rectangleBorderImg\"></image>\r\n            </view>\r\n        </view>\r\n        \r\n        <view class=\"titleBtn\" @click=\"createCircular\">绘制圆形头像drawCircular</view>\r\n        <view class=\"canvasBox\" v-if=\"circularImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:150rpx;height:150rpx\" :src=\"circularImg\"></image>\r\n            </view>\r\n        </view>\r\n        \r\n        <view class=\"titleBtn\" @click=\"createCover\">绘制图片cover不变形drawImgCover</view>\r\n        <view class=\"canvasBox\" v-if=\"coverImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:200rpx;height:200rpx\" :src=\"coverImg\"></image>\r\n            </view>\r\n        </view>\r\n        \r\n        <view class=\"titleBtn\" @click=\"createText\">绘制文本自定义换行超出省略dealWords</view>\r\n        <view class=\"canvasBox\" v-if=\"textImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:702rpx;height:200rpx\" :src=\"textImg\"></image>\r\n            </view>\r\n        </view>\r\n        \r\n\t\t<view class=\"titleBtn\" @click=\"createText2\">绘制中英文文本自定义换行不截断，文本居中显示</view>\r\n\t\t<view class=\"canvasBox\" v-if=\"textEnImg\">\r\n\t\t    <view class=\"canvasItem\">\r\n\t\t        <image mode=\"widthFix\" style=\"width:702rpx;height:200rpx\" :src=\"textEnImg\"></image>\r\n\t\t    </view>\r\n\t\t</view>\r\n\t\t\r\n        <view class=\"titleBtn\" @click=\"createButton\">绘制圆角按钮drawButton</view>\r\n        <view class=\"canvasBox\" v-if=\"buttonImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:260rpx;height:100rpx\" :src=\"buttonImg\"></image>\r\n            </view>\r\n        </view>\r\n        \r\n        <view class=\"titleBtn\" @click=\"createGoodsPoster\">绘制海报</view>\r\n        <view class=\"canvasBox\" v-if=\"canvasImg\">\r\n            <view class=\"canvasItem\">\r\n                <image mode=\"widthFix\" style=\"width:500rpx;height:500rpx\" :src=\"canvasImg\"></image>\r\n            </view>\r\n            <view class=\"button\" @click=\"onSaveImg\">保存海报</view>\r\n        </view>\r\n        <!-- 矩形 -->\r\n        <canvas class=\"f__canvas\" style=\"width:200px;height:100px\"  canvas-id=\"rectangleCanvas\" id=\"rectangleCanvas\"></canvas>\r\n        <!-- 矩形+边框 -->\r\n        <canvas class=\"f__canvas\" style=\"width:200px;height:100px\"  canvas-id=\"rectangleBorderCanvas\" id=\"rectangleBorderCanvas\"></canvas>\r\n        <!-- 头像 -->\r\n        <canvas class=\"f__canvas\" style=\"width:100px;height:100px\"  canvas-id=\"circularCanvas\" id=\"circularCanvas\"></canvas>\r\n        <!-- 不变形图片-最短边显示完整 -->\r\n        <canvas class=\"f__canvas\" style=\"width:200px;height:200px\"  canvas-id=\"coverCanvas\" id=\"coverCanvas\"></canvas>\r\n        <!-- 文本自定义换行超出省略 -->\r\n        <canvas class=\"f__canvas\" style=\"width:1000px;height:300px\"  canvas-id=\"textCanvas\" id=\"textCanvas\"></canvas>\r\n\t\t<!-- 英文换行不截断，居中显示 -->\r\n\t\t<canvas class=\"f__canvas\" style=\"width:1000px;height:300px\"  canvas-id=\"textCanvas2\" id=\"textCanvas2\"></canvas>\r\n        <!-- 按钮 -->\r\n        <canvas class=\"f__canvas\" style=\"width:260px;height:100px\"  canvas-id=\"buttonCanvas\" id=\"buttonCanvas\"></canvas>\r\n        <!-- 海报 -->\r\n        <canvas class=\"f__canvas\" style=\"width:600px;height:730px\"  canvas-id=\"firstCanvas\" id=\"firstCanvas\"></canvas>\r\n        <!-- 二维码 -->\r\n        <canvas class=\"f__canvas\" style=\"width:300px;height:300px;\" canvas-id=\"qrcode\" id=\"qrcode\"></canvas>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport _canvas from '@/uni_modules/fan-canvas/canvasUtils';// 加载万能绘制方法\r\nimport { saveTempFilePathImg } from '@/uni_modules/fan-canvas/plugins/utils';// 需要保存图片可以引用此文件\r\nimport uQRCode from '@/uni_modules/Sansnn-uQRCode/js_sdk/u-qrcode'\r\nexport default {\r\n    data() {\r\n        return {\r\n            // #ifndef H5\r\n            goodsImg:'https://img02.163.gg/img/96/66/75/966675-ieuskndmvo.jpg!YM0000',\r\n            // goodsImg:'https://api.yichengshi.cn/minImage/sx2/sx2IndexHeadBg.jpg',\r\n            // #endif\r\n            // #ifdef H5\r\n            goodsImg:'/static/goods.jpg',\r\n            // #endif\r\n            rectangleImg:'', //矩形\r\n            rectangleBorderImg:'', //矩形+边框\r\n            circularImg:'',  //圆形头像\r\n            coverImg:'',     //不变形图片-最短边显示完整\r\n            buttonImg:'',    //按钮\r\n            canvasImg:'',    //生成的海报图片\r\n            qrcodeImg:'',    //二维码本地图片\r\n            content:'canvas万能制作方法，新手简单入手，易学，一天掌握canvas制作。绘制矩形方法、加载图片方法、绘制圆形头像方法、绘制图片cover不变形、文本自定义换行超出省略、绘制圆角按钮等方法。组合起来用，基本海报都能绘制。',   //内容\r\n\t\t\ttextImg:'',      //文本超出省略\r\n\t\t\tcontent2:\"The universal canvas making method is easy for beginners to learn and master canvas making in one day.中英文一起绘制文字也不影响换行，英文换行不会截断单词\",\r\n\t\t\ttextEnImg:'',    //英文\r\n\t\t}\r\n    },\r\n    onLoad() {\r\n        \r\n    },\r\n    onReady() {\r\n        this.createQrcode()\r\n    },\r\n    methods: {\r\n        //绘制矩形图\r\n        createRectangle(){\r\n            if(this.rectangleImg){\r\n            \treturn\r\n            }\r\n            var that = this;\r\n            uni.showLoading({\r\n            \ttitle: '生成中'\r\n            });\r\n            let ctx = uni.createCanvasContext('rectangleCanvas');\r\n            const cvsW = 200\r\n            const cvsH = 100\r\n            // 绘制矩形\r\n            //参数：cxt、x坐标、y坐标、宽度、高度、圆角、颜色\r\n            _canvas.fillRoundRect(ctx,0,0,cvsW,cvsH,20,\"red\");\r\n            // 绘制图片\r\n            ctx.draw(false, function() {\r\n            \tuni.canvasToTempFilePath({\r\n            \t\twidth: cvsW,\r\n            \t\theight: cvsH,\r\n            \t\tcanvasId: 'rectangleCanvas',\r\n            \t\tsuccess(res) {\r\n            \t\t\tuni.hideLoading();\r\n            \t\t\tthat.rectangleImg = res.tempFilePath\r\n            \t\t}\r\n            \t},that)\r\n            }, 500)\r\n        },\r\n        //绘制渐变边框矩形图\r\n        createRectangleBorder(){\r\n            if(this.rectangleBorderImg){\r\n            \treturn\r\n            }\r\n            var that = this;\r\n            uni.showLoading({\r\n            \ttitle: '生成中'\r\n            });\r\n            let ctx = uni.createCanvasContext('rectangleBorderCanvas');\r\n            const cvsW = 200\r\n            const cvsH = 100\r\n            //绘制矩形\r\n            //参数：cxt、x坐标、y坐标、宽度、高度、圆角、颜色\r\n            _canvas.fillRoundRect(ctx, 0, 0, cvsW, cvsH, 20,'yellow')\r\n            ctx.clip() //超出剪切\r\n            //绘制边框\r\n            //参数：cxt、x坐标、y坐标、宽度、高度、圆角、边框宽度\r\n            _canvas.roundRectBorder(ctx, 0, 0, cvsW, cvsH, 20, 10)\r\n            // 渐变填充边框\r\n            const grd = ctx.createLinearGradient(0, 0, 200, 200)\r\n            grd.addColorStop(0, 'red')\r\n            grd.addColorStop(1, 'blue')\r\n            ctx.strokeStyle = grd //填充颜色--非渐变设置为颜色即可\r\n            ctx.stroke() //绘制边框\r\n            // 绘制图片\r\n            ctx.draw(false, function() {\r\n            \tuni.canvasToTempFilePath({\r\n            \t\twidth: cvsW,\r\n            \t\theight: cvsH,\r\n            \t\tcanvasId: 'rectangleBorderCanvas',\r\n            \t\tsuccess(res) {\r\n            \t\t\tuni.hideLoading();\r\n            \t\t\tthat.rectangleBorderImg = res.tempFilePath\r\n            \t\t}\r\n            \t},that)\r\n            }, 500)\r\n        },\r\n        // 绘制头像\r\n        async createCircular(){\r\n            if(this.circularImg){\r\n            \treturn\r\n            }\r\n            var that = this;\r\n            uni.showLoading({\r\n            \ttitle: '生成中'\r\n            });\r\n            let ctx = uni.createCanvasContext('circularCanvas',this);\r\n            const cvsW = 100\r\n            const cvsH = 100\r\n            // 同步加载图片--这里可以同步多张图\r\n            var logo = await _canvas.getImageInfo(this.goodsImg);\r\n            if(logo.path){\r\n                // 绘制圆形头像\r\n                // 参数：cxt、图片路径、x坐标、y坐标、宽度、高度\r\n                _canvas.drawCircular(ctx, logo.path, 0, 0, cvsW, cvsH);\r\n                // 绘制图片\r\n                ctx.draw(false, function() {\r\n                \tuni.canvasToTempFilePath({\r\n                \t\twidth: cvsW,\r\n                \t\theight: cvsH,\r\n                \t\tcanvasId: 'circularCanvas',\r\n                \t\tsuccess(res) {\r\n                \t\t\tuni.hideLoading();\r\n                \t\t\tthat.circularImg = res.tempFilePath\r\n                \t\t}\r\n                \t},that)\r\n                }, 500)\r\n            }else{\r\n        \t\tuni.hideLoading();\r\n        \t\tuni.showToast({\r\n        \t\t\ttitle: '制作失败',\r\n        \t\t\ticon: 'none'\r\n        \t\t});\r\n        \t}\r\n        },\r\n        // 绘制不变形图片-最短边显示完整\r\n        async createCover(){\r\n            if(this.coverImg){\r\n            \treturn\r\n            }\r\n            var that = this;\r\n            uni.showLoading({\r\n            \ttitle: '生成中'\r\n            });\r\n            let ctx = uni.createCanvasContext('coverCanvas',this);\r\n            const cvsW = 200\r\n            const cvsH = 200\r\n            // 同步加载图片--这里可以同步多张图\r\n            var logo = await _canvas.getImageInfo(this.goodsImg);\r\n            if(logo.path){\r\n                // 绘制不变形图片-最短边显示完整\r\n                // 参数：cxt、图片属性、x坐标、y坐标、宽度、高度、圆角\r\n                _canvas.drawImgCover(ctx, logo, 0, 0, cvsW, cvsH, 10);\r\n                // 绘制图片\r\n                ctx.draw(false, function() {\r\n                \tuni.canvasToTempFilePath({\r\n                \t\twidth: cvsW,\r\n                \t\theight: cvsH,\r\n                \t\tcanvasId: 'coverCanvas',\r\n                \t\tsuccess(res) {\r\n                \t\t\tuni.hideLoading();\r\n                \t\t\tthat.coverImg = res.tempFilePath\r\n                \t\t}\r\n                \t},that)\r\n                }, 500)\r\n            }else{\r\n        \t\tuni.hideLoading();\r\n        \t\tuni.showToast({\r\n        \t\t\ttitle: '制作失败',\r\n        \t\t\ticon: 'none'\r\n        \t\t});\r\n        \t}\r\n        },\r\n        //绘制文本自动换行超出省略\r\n        createText(){\r\n            if(this.textImg){\r\n            \treturn\r\n            }\r\n            var that = this;\r\n            uni.showLoading({\r\n            \ttitle: '生成中'\r\n            });\r\n            let family = \" 'PingFang SC',tahoma,arial,'helvetica neue','hiragino sans gb','microsoft yahei',sans-serif\";\r\n            let ctx = uni.createCanvasContext('textCanvas');\r\n            const cvsW = 1000\r\n            const cvsH = 300\r\n            // 绘制矩形\r\n            _canvas.fillRoundRect(ctx,0,0,cvsW,cvsH,20,\"red\");\r\n            // 文本参数\r\n            var options = {\r\n            \tfont:\"32px\"+family,     //设置字体\r\n            \tctx:ctx,\r\n            \tword:that.content,      //文本\r\n            \tmaxWidth:920,           //最大宽度\r\n            \tmaxLine:3,              //最大行数--超出省略\r\n            \tx:40,                   //x坐标\r\n            \ty:40,                  //y坐标\r\n            \tl_h:60                  //行高\r\n            }\r\n            // 文字颜色\r\n            ctx.setFillStyle('#ffffff')\r\n            // #ifdef MP-TOUTIAO\r\n            ctx.setFontSize(32)\r\n            // #endif\r\n            // 绘文本自定义换行\r\n            _canvas.dealWords(options)\r\n            // 绘制图片\r\n            ctx.draw(false, function() {\r\n            \tuni.canvasToTempFilePath({\r\n            \t\twidth: cvsW,\r\n            \t\theight: cvsH,\r\n            \t\tcanvasId: 'textCanvas',\r\n            \t\tsuccess(res) {\r\n            \t\t\tuni.hideLoading();\r\n            \t\t\tthat.textImg = res.tempFilePath\r\n            \t\t}\r\n            \t},that)\r\n            }, 500)\r\n        },\r\n\t\t// 绘制英文换行不截断，居中显示\r\n\t\tcreateText2(){\r\n\t\t    if(this.textEnImg){\r\n\t\t    \treturn\r\n\t\t    }\r\n\t\t    var that = this;\r\n\t\t    uni.showLoading({\r\n\t\t    \ttitle: '生成中'\r\n\t\t    });\r\n\t\t    let family = \" 'PingFang SC',tahoma,arial,'helvetica neue','hiragino sans gb','microsoft yahei',sans-serif\";\r\n\t\t    let ctx = uni.createCanvasContext('textCanvas');\r\n\t\t    const cvsW = 1000\r\n\t\t    const cvsH = 300\r\n\t\t    // 绘制矩形\r\n\t\t    _canvas.fillRoundRect(ctx,0,0,cvsW,cvsH,20,\"red\");\r\n\t\t    // 文本参数\r\n\t\t    var options = {\r\n\t\t    \tfont:\"32px\"+family,     //设置字体\r\n\t\t    \tctx:ctx,\r\n\t\t    \tword:that.content2,      //文本\r\n\t\t    \tmaxWidth:920,           //最大宽度\r\n\t\t    \tmaxLine:3,              //最大行数--超出省略\r\n\t\t    \tx:40,                   //x坐标\r\n\t\t    \ty:40,                   //y坐标\r\n\t\t    \tl_h:60,                  //行高\r\n\t\t\t\ttextCenter:true,        //是否居中\r\n\t\t\t\tcvsW:cvsW,\t\t\t\t//总宽度\r\n\t\t    }\r\n\t\t    // 文字颜色\r\n\t\t    ctx.setFillStyle('#ffffff')\r\n\t\t    // #ifdef MP-TOUTIAO\r\n\t\t    ctx.setFontSize(32)\r\n\t\t    // #endif\r\n\t\t    // 绘文本自定义换行\r\n\t\t    _canvas.dealWords(options)\r\n\t\t    // 绘制图片\r\n\t\t    ctx.draw(false, function() {\r\n\t\t    \tuni.canvasToTempFilePath({\r\n\t\t    \t\twidth: cvsW,\r\n\t\t    \t\theight: cvsH,\r\n\t\t    \t\tcanvasId: 'textCanvas',\r\n\t\t    \t\tsuccess(res) {\r\n\t\t    \t\t\tuni.hideLoading();\r\n\t\t    \t\t\tthat.textEnImg = res.tempFilePath\r\n\t\t    \t\t}\r\n\t\t    \t},that)\r\n\t\t    }, 500)\r\n\t\t},\r\n        // 绘制圆角按钮\r\n        createButton(){\r\n            if(this.buttonImg){\r\n            \treturn\r\n            }\r\n            var that = this;\r\n            uni.showLoading({\r\n            \ttitle: '生成中'\r\n            });\r\n            const family = \" 'PingFang SC',tahoma,arial,'helvetica neue','hiragino sans gb','microsoft yahei',sans-serif\";\r\n            const ctx = uni.createCanvasContext('buttonCanvas');\r\n            const cvsW = 260\r\n            const cvsH = 100\r\n            // 文字\r\n            ctx.font = 'bold 28px' + family\r\n            // 绘制圆角按钮\r\n            // 参数：cxt、背景颜色、x坐标、y坐标、宽度、高度、圆角、文字、文字颜色、文字位置\r\n            _canvas.drawButton(ctx, 'red', 0,0, cvsW, cvsH, cvsH/2, '会员价￥2.88', '#ffffff', 'center')\r\n            // 绘制图片\r\n            ctx.draw(false, function() {\r\n            \tuni.canvasToTempFilePath({\r\n            \t\twidth: cvsW,\r\n            \t\theight: cvsH,\r\n            \t\tcanvasId: 'buttonCanvas',\r\n            \t\tsuccess(res) {\r\n            \t\t\tuni.hideLoading();\r\n            \t\t\tthat.buttonImg = res.tempFilePath\r\n            \t\t}\r\n            \t},that)\r\n            }, 500)\r\n        },\r\n        async createGoodsPoster() {\r\n            if(this.canvasImg){\r\n            \treturn\r\n            }\r\n        \tvar that = this;\r\n        \tuni.showLoading({\r\n        \t\ttitle: '海报生成中'\r\n        \t});\r\n        \tconst cvsW = 600;\r\n        \tconst cvsH = 730;\r\n            const goodsH = 400;\r\n        \tconst logo_w = 100;\r\n            const margin = 30;\r\n        \tlet family = \" 'PingFang SC',tahoma,arial,'helvetica neue','hiragino sans gb','microsoft yahei',sans-serif\";\r\n        \tlet ctx = uni.createCanvasContext('firstCanvas');\r\n            // 绘制矩形\r\n        \t_canvas.fillRoundRect(ctx,0,0,cvsW,cvsH,20,\"#ffffff\");\r\n            // 同步加载图片\r\n        \tvar logo = await _canvas.getImageInfo(this.goodsImg);\r\n        \tif(logo.path){\r\n                // save+clip+restore:防止图片超出边框显示--相当于overflow: hidden;\r\n                ctx.save();\r\n                ctx.clip(); //剪切--不允许超出矩形框\r\n                // 绘制商品图片\r\n                _canvas.drawImgCover(ctx, logo, 0, 0, cvsW, goodsH);\r\n                ctx.restore();\r\n                \r\n                // 价格符号\r\n                ctx.setFillStyle('#ff0036')\r\n                ctx.font = \"24px\" + family\r\n                ctx.fillText('￥', margin-5, 450)\r\n                // 价格\r\n                ctx.font = \"40px\" + family\r\n                ctx.fillText('39.99', 50, 450)\r\n                \r\n                // 绘制圆角按钮\r\n                // 参数：cxt、背景颜色、x坐标、y坐标、宽度、高度、圆角、文字、文字颜色、文字位置\r\n                ctx.font = '22px' + family\r\n                _canvas.drawButton(ctx, 'red', 165, 418, 170, 32, 16, '会员价￥29.99', '#ffffff', 'center')\r\n                // 简介-多行文字\r\n        \t\tctx.setFillStyle('#666666')\r\n                ctx.textAlign = 'left';\r\n        \t\tvar options = {\r\n        \t\t\tfont:\"normal 26px\"+family,     //设置字体\r\n        \t\t\tctx:ctx,\r\n        \t\t\tword:that.content,      //文本\r\n        \t\t\tmaxWidth:540,           //最大宽度\r\n        \t\t\tmaxLine:2,              //最大行数--超出省略\r\n        \t\t\tx:margin,               //x坐标\r\n        \t\t\ty:450,                  //y坐标\r\n        \t\t\tl_h:40                  //行高\r\n        \t\t}\r\n                // 文本自定义换行\r\n        \t\t_canvas.dealWords(options)\r\n                // 绘制圆形头像\r\n                _canvas.drawCircular(ctx, logo.path, margin, goodsH+margin+160, logo_w, logo_w);\r\n                // 名称\r\n                ctx.setFillStyle('#000000')\r\n                ctx.font = \"bold 26px\" + family\r\n                ctx.fillText('创作者：Aa.小凡', logo_w+margin+10, goodsH+margin+195)\r\n                // 简介\r\n                ctx.setFillStyle('#999999')\r\n                ctx.font = \"normal 22px\" + family\r\n                ctx.fillText('所有方法融合一起实战', logo_w+margin+10, goodsH+margin+235)\r\n                // 绘制二维码\r\n                ctx.drawImage(that.qrcodeImg, cvsW-margin-130, goodsH+margin+80+60, 130, 130);\r\n                // 绘制图片\r\n        \t\tctx.draw(false, function() {\r\n        \t\t\tuni.canvasToTempFilePath({\r\n        \t\t\t\twidth: cvsW,\r\n        \t\t\t\theight: cvsH,\r\n        \t\t\t\tcanvasId: 'firstCanvas',\r\n        \t\t\t\tsuccess(res) {\r\n        \t\t\t\t\tuni.hideLoading();\r\n        \t\t\t\t\tthat.canvasImg = res.tempFilePath\r\n        \t\t\t\t}\r\n        \t\t\t},that)\r\n        \t\t}, 500)\r\n        \t}else{\r\n        \t\tuni.hideLoading();\r\n        \t\tuni.showToast({\r\n        \t\t\ttitle: '海报制作失败',\r\n        \t\t\ticon: 'none'\r\n        \t\t});\r\n        \t}\r\n        },\r\n        // 保存图片\r\n        async onSaveImg() {\r\n        \tlet imgUrl = \"\";\r\n        \tif(this.canvasImg){\r\n        \t\timgUrl = await this.canvasImg;\r\n                saveTempFilePathImg(imgUrl)\r\n        \t}\r\n        },\r\n\t\t// 创建二维码\r\n\t\tcreateQrcode(){\r\n\t\t    var that = this\r\n\t\t\tconst ctx = uni.createCanvasContext('qrcode',this);\r\n\t\t\tconst uqrcode = new uQRCode(\r\n\t\t\t  {\r\n\t\t\t\ttext: 'https://www.baidu.com',//二维码参数\r\n\t\t\t\tsize: 300\r\n\t\t\t  },\r\n\t\t\t  ctx\r\n\t\t\t);\r\n\t\t\tuqrcode.make();\r\n\t\t\tuqrcode.draw().then(()=>{\r\n\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t    width: 600,\r\n\t\t\t\t    height: 600,\r\n\t\t\t\t    canvasId: 'qrcode',\r\n\t\t\t\t    success(res) {\r\n\t\t\t\t        // 二维码本地图\r\n\t\t\t\t         that.qrcodeImg = res.tempFilePath\r\n\t\t\t\t        console.log(res.tempFilePath,'createQrcode')\r\n\t\t\t\t    }\r\n\t\t\t\t},that)\r\n\t\t\t})\r\n\t\t}\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content{\r\n    padding-bottom: 200rpx;\r\n}\r\n.titleBtn{\r\n    margin: 24rpx;\r\n    width: 702rpx;\r\n    padding: 20rpx 24rpx;\r\n    background-color: #007AFF;\r\n    color: #fff;\r\n    font-size: 24rpx;\r\n    text-align: center;\r\n}\r\n.f__canvas {\r\n\twidth: 300rpx;\r\n\theight: 300rpx;\r\n\tposition: fixed;\r\n\ttop: -10000rpx;\r\n\tleft: 0rpx;\r\n}\r\n.canvasBox{\n    .canvasItem {\n        /* #ifndef APP-NVUE */\r\n        display: flex;\r\n        /* #endif */\r\n        justify-content: center;\n        .img {\n            width: 100%;\n        }\n    }\n    .button {\n        width: 300rpx;\n        height: 80rpx;\n        background: #fff;\n        line-height: 80rpx;\n        text-align: center;\n        font-size: 28rpx;\n        border-radius: 40rpx;\n        margin: 0 auto;\n        margin-top: 20rpx;\n    }\n}\r\n</style>\n","import mod from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./canvas.vue?vue&type=style&index=0&id=87283eee&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Hbuilde-前端代码\\\\HBuilderX.3.1.9.20210413.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./canvas.vue?vue&type=style&index=0&id=87283eee&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707036432946\n      var cssReload = require(\"E:/Hbuilde-前端代码/HBuilderX.3.1.9.20210413.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}